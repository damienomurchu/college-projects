#{extends 'main.html' /}
#{set title:'Leaderboard' /}

<nav class="ui menu">
  <a class="ui item" href="/home">Home</a>
  <a class="ui item" href="/members">Members</a>
  <a class="ui item" href="/profile">Profile</a>
  <a class="ui active item" href="/leaderboard">Leaderboard</a>
  <a class="ui item" href="/login">Logout</a>
</nav>

<section class="ui segment">
	<h2 class="ui header">Social Leaderboard</h2>
	<p>Most popular? Most talkative? Most social? Check it all out below..</p>
	<div class="ui two column grid segment">
  <div class="ui eleven wide column">
	<table class="ui stackable table">
		<thead>
			<tr>
				<th class="two wide center aligned">Rank</th>
				<th class="five wide">Member</th>
				<th class="three wide center aligned"><a href="/leaderboard/popular" >Inbox </a></th>
				<th class="three wide center aligned"><a href="/leaderboard/talkative" >Outbox </a></th>
				<th class="three wide center aligned"><a href="/leaderboard/social" >Friends </a></th>
			</tr>
		</thead>
		<tbody>
			#{list items:users, as:'user'}
			<tr>
				<td class="center aligned">${users.indexOf(user)+1}</td>
				<td>
          <img class="ui avatar image" src="/profile/getpicture/${user.id}">
          <a href="/publicprofile/${user.id}">${user.firstName} ${user.lastName}</a>
        </td>
				<td class="center aligned">${user.inbox.size()}</td>
				<td class="center aligned">${user.outbox.size()}</td>
				<td class="center aligned">${user.friendships.size()}</td>
			</tr>
			#{/list}
		</tbody>
	</table>
</div>
</div>

</section>